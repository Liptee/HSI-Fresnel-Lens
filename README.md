# HSI-Fresnel-Lens
Данный код генерирует пропускание через линзу для гиперспектрального куба с учетом Френеля и спектральной чувствительностью сенсора CMV4000. На вход подается `mat` файл с гиперкубом и длинами волн. На выходе получаем `mat` файл того же размера, но после двух проходов Френеля и фаз линзы, взвешенных по спектральным фильтрам.

## Зависимости
• Python 3.10+
• numpy
• scipy
• torch (имеется возможность аппаратного ускорения CUDA)

## Структура
```
project/
├── main.py               
├── config.py
├── filters/                # TXT-кривые спектрального отклика
│   ├── cmv4000_B.txt
│   ├── cmv4000_G.txt
│   └── cmv4000_R.txt
├── HSI/                    # входные .mat кубы
│   └── cloth.mat
└── wl_cave.txt             # (опционально) wl, если нет в .mat
```

## Запуск
При правильно указанных параметров в `config.py`:
```bash
python create_dataset.py
```
Выходные файлы будут сохранены рядом с входными.
### Выходной формат `.mat`
```matlab
cube        % float32, (H, W, B)
wavelengths % float32, нм, (B,)
